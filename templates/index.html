<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CryptoTrend Notifier - Advanced Analytics Dashboard</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Chart.js for beautiful charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

    <!-- AOS for scroll animations -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        --primary: #6366f1;
        --primary-dark: #4f46e5;
        --secondary: #10b981;
        --danger: #ef4444;
        --warning: #f59e0b;
        --bg-dark: #0f172a;
        --bg-card: #1e293b;
        --bg-card-hover: #334155;
        --text-primary: #f1f5f9;
        --text-secondary: #94a3b8;
        --border: #334155;
        --success: #22c55e;
      }

      body {
        font-family:
          "Inter",
          -apple-system,
          BlinkMacSystemFont,
          "Segoe UI",
          sans-serif;
        background: linear-gradient(135deg, var(--bg-dark) 0%, #1a1f3a 100%);
        color: var(--text-primary);
        min-height: 100vh;
        padding: 20px;
        overflow-x: hidden;
      }

      /* Animated background particles */
      .particles {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        z-index: 0;
        pointer-events: none;
      }

      .particle {
        position: absolute;
        background: var(--primary);
        border-radius: 50%;
        opacity: 0.1;
        animation: float 20s infinite;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0) translateX(0);
        }
        25% {
          transform: translateY(-100px) translateX(50px);
        }
        50% {
          transform: translateY(-200px) translateX(-30px);
        }
        75% {
          transform: translateY(-100px) translateX(-80px);
        }
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
        position: relative;
        z-index: 1;
      }

      /* Header Section */
      .header {
        background: linear-gradient(
          135deg,
          var(--bg-card) 0%,
          var(--bg-card-hover) 100%
        );
        border-radius: 24px;
        padding: 40px;
        margin-bottom: 30px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        border: 1px solid var(--border);
        position: relative;
        overflow: hidden;
      }

      .header::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(
          90deg,
          var(--primary),
          var(--secondary),
          var(--warning)
        );
        animation: shimmer 3s infinite;
      }

      @keyframes shimmer {
        0% {
          transform: translateX(-100%);
        }
        100% {
          transform: translateX(100%);
        }
      }

      .header-content {
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 20px;
      }

      .header-title {
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .logo {
        width: 60px;
        height: 60px;
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        border-radius: 16px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 30px;
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
      }

      h1 {
        font-size: 2.5rem;
        font-weight: 700;
        background: linear-gradient(
          135deg,
          var(--text-primary),
          var(--primary)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .update-info {
        display: flex;
        align-items: center;
        gap: 10px;
        background: rgba(99, 102, 241, 0.1);
        padding: 12px 20px;
        border-radius: 12px;
        border: 1px solid rgba(99, 102, 241, 0.2);
      }

      .status-dot {
        width: 8px;
        height: 8px;
        background: var(--success);
        border-radius: 50%;
        animation: blink 2s infinite;
      }

      @keyframes blink {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.3;
        }
      }

      /* Stats Grid */
      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
      }

      .stat-card {
        background: var(--bg-card);
        border-radius: 20px;
        padding: 25px;
        border: 1px solid var(--border);
        transition: all 0.3s ease;
        cursor: pointer;
        position: relative;
        overflow: hidden;
      }

      .stat-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          135deg,
          transparent,
          rgba(99, 102, 241, 0.1)
        );
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .stat-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 40px rgba(99, 102, 241, 0.2);
        border-color: var(--primary);
      }

      .stat-card:hover::before {
        opacity: 1;
      }

      .stat-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
      }

      .stat-label {
        color: var(--text-secondary);
        font-size: 0.875rem;
        font-weight: 500;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .stat-icon {
        width: 40px;
        height: 40px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.25rem;
      }

      .stat-value {
        font-size: 2rem;
        font-weight: 700;
        margin-bottom: 8px;
      }

      .stat-change {
        display: flex;
        align-items: center;
        gap: 5px;
        font-size: 0.875rem;
        font-weight: 500;
      }

      .stat-change.positive {
        color: var(--success);
      }
      .stat-change.negative {
        color: var(--danger);
      }

      /* Main Content Grid */
      .main-grid {
        display: grid;
        grid-template-columns: 1fr 400px;
        gap: 30px;
        margin-bottom: 30px;
      }

      /* Crypto Table */
      .crypto-table-container {
        background: var(--bg-card);
        border-radius: 20px;
        padding: 30px;
        border: 1px solid var(--border);
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
      }

      .table-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 25px;
      }

      .table-title {
        font-size: 1.5rem;
        font-weight: 600;
      }

      .search-box {
        display: flex;
        align-items: center;
        background: var(--bg-dark);
        border-radius: 12px;
        padding: 10px 15px;
        border: 1px solid var(--border);
        transition: all 0.3s ease;
      }

      .search-box:focus-within {
        border-color: var(--primary);
        box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
      }

      .search-box input {
        background: none;
        border: none;
        outline: none;
        color: var(--text-primary);
        font-size: 0.875rem;
        width: 200px;
        margin-left: 10px;
      }

      .crypto-table {
        width: 100%;
        border-collapse: separate;
        border-spacing: 0 10px;
      }

      .crypto-table thead th {
        text-align: left;
        padding: 12px 15px;
        color: var(--text-secondary);
        font-weight: 600;
        font-size: 0.875rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .crypto-table tbody tr {
        background: var(--bg-dark);
        transition: all 0.3s ease;
        cursor: pointer;
      }

      .crypto-table tbody tr:hover {
        background: var(--bg-card-hover);
        transform: scale(1.02);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      }

      .crypto-table tbody td {
        padding: 20px 15px;
        border-top: 1px solid var(--border);
        border-bottom: 1px solid var(--border);
      }

      .crypto-table tbody td:first-child {
        border-left: 1px solid var(--border);
        border-radius: 12px 0 0 12px;
      }

      .crypto-table tbody td:last-child {
        border-right: 1px solid var(--border);
        border-radius: 0 12px 12px 0;
      }

      .crypto-name {
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .crypto-icon {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 1rem;
      }

      .crypto-info {
        display: flex;
        flex-direction: column;
      }

      .crypto-symbol {
        font-weight: 600;
        font-size: 1rem;
      }

      .crypto-fullname {
        color: var(--text-secondary);
        font-size: 0.75rem;
      }

      .price {
        font-weight: 600;
        font-size: 1.125rem;
      }

      .prediction {
        display: flex;
        flex-direction: column;
        gap: 5px;
      }

      .prediction-value {
        font-weight: 600;
      }

      .prediction-badge {
        display: inline-block;
        padding: 4px 10px;
        border-radius: 6px;
        font-size: 0.75rem;
        font-weight: 600;
      }

      .prediction-badge.bullish {
        background: rgba(34, 197, 94, 0.2);
        color: var(--success);
      }

      .prediction-badge.bearish {
        background: rgba(239, 68, 68, 0.2);
        color: var(--danger);
      }

      /* Chart Section */
      .chart-container {
        background: var(--bg-card);
        border-radius: 20px;
        padding: 30px;
        border: 1px solid var(--border);
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
      }

      .chart-title {
        font-size: 1.25rem;
        font-weight: 600;
        margin-bottom: 20px;
      }

      #trendChart {
        max-height: 400px;
      }

      /* Activity Feed */
      .activity-feed {
        background: var(--bg-card);
        border-radius: 20px;
        padding: 30px;
        border: 1px solid var(--border);
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
      }

      .activity-item {
        display: flex;
        gap: 15px;
        padding: 15px;
        margin-bottom: 10px;
        background: var(--bg-dark);
        border-radius: 12px;
        transition: all 0.3s ease;
      }

      .activity-item:hover {
        background: var(--bg-card-hover);
        transform: translateX(5px);
      }

      .activity-icon {
        width: 40px;
        height: 40px;
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
      }

      .activity-content {
        flex: 1;
      }

      .activity-title {
        font-weight: 600;
        margin-bottom: 4px;
      }

      .activity-time {
        color: var(--text-secondary);
        font-size: 0.75rem;
      }

      /* Responsive Design */
      @media (max-width: 1200px) {
        .main-grid {
          grid-template-columns: 1fr;
        }
      }

      @media (max-width: 768px) {
        h1 {
          font-size: 1.75rem;
        }

        .header-content {
          flex-direction: column;
          align-items: flex-start;
        }

        .stats-grid {
          grid-template-columns: 1fr;
        }

        .search-box input {
          width: 150px;
        }

        .crypto-table {
          font-size: 0.875rem;
        }

        .crypto-table thead {
          display: none;
        }

        .crypto-table tbody tr {
          display: flex;
          flex-direction: column;
          gap: 10px;
          padding: 15px;
          margin-bottom: 15px;
        }

        .crypto-table tbody td {
          border: none !important;
          padding: 5px 0;
        }
      }

      /* Loading Animation */
      .loading {
        display: inline-block;
        width: 20px;
        height: 20px;
        border: 3px solid rgba(99, 102, 241, 0.3);
        border-radius: 50%;
        border-top-color: var(--primary);
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }
    </style>
  </head>
  <body>
    <!-- Animated Background Particles -->
    <div class="particles" id="particles"></div>

    <div class="container">
      <!-- Header -->
      <div class="header" data-aos="fade-down">
        <div class="header-content">
          <div class="header-title">
            <div class="logo">‚Çø</div>
            <div>
              <h1>CryptoTrend Notifier</h1>
              <p style="color: var(--text-secondary); margin-top: 5px">
                Real-time Analytics & Predictions
              </p>
            </div>
          </div>
          <div class="update-info">
            <div class="status-dot"></div>
            <span style="color: var(--text-secondary)">Last updated:</span>
            <span id="timestamp" style="font-weight: 600">{{ timestamp }}</span>
          </div>
        </div>
      </div>

      <!-- Stats Grid -->
      <div class="stats-grid">
        <div class="stat-card" data-aos="fade-up" data-aos-delay="100">
          <div class="stat-header">
            <span class="stat-label">Total Market Cap</span>
            <div
              class="stat-icon"
              style="background: rgba(34, 197, 94, 0.2); color: var(--success)"
            >
              üí∞
            </div>
          </div>
          <div class="stat-value" id="marketCap">$2.1T</div>
          <div class="stat-change positive">
            <span>‚Üó</span>
            <span>+5.2% (24h)</span>
          </div>
        </div>

        <div class="stat-card" data-aos="fade-up" data-aos-delay="200">
          <div class="stat-header">
            <span class="stat-label">Trading Volume</span>
            <div
              class="stat-icon"
              style="background: rgba(99, 102, 241, 0.2); color: var(--primary)"
            >
              üìä
            </div>
          </div>
          <div class="stat-value" id="volume">$89.4B</div>
          <div class="stat-change positive">
            <span>‚Üó</span>
            <span>+12.8% (24h)</span>
          </div>
        </div>

        <div class="stat-card" data-aos="fade-up" data-aos-delay="300">
          <div class="stat-header">
            <span class="stat-label">BTC Dominance</span>
            <div
              class="stat-icon"
              style="background: rgba(245, 158, 11, 0.2); color: var(--warning)"
            >
              üëë
            </div>
          </div>
          <div class="stat-value" id="btcDominance">52.3%</div>
          <div class="stat-change negative">
            <span>‚Üò</span>
            <span>-0.4% (24h)</span>
          </div>
        </div>

        <div class="stat-card" data-aos="fade-up" data-aos-delay="400">
          <div class="stat-header">
            <span class="stat-label">Active Coins</span>
            <div
              class="stat-icon"
              style="background: rgba(168, 85, 247, 0.2); color: #a855f7"
            >
              üöÄ
            </div>
          </div>
          <div class="stat-value" id="activeCoins">{{ prices|length }}</div>
          <div class="stat-change" style="color: var(--text-secondary)">
            <span>Tracking</span>
          </div>
        </div>
      </div>

      <!-- Main Content Grid -->
      <div class="main-grid">
        <!-- Crypto Table -->
        <div class="crypto-table-container" data-aos="fade-right">
          <div class="table-header">
            <h2 class="table-title">Live Cryptocurrency Prices</h2>
            <div class="search-box">
              <span>üîç</span>
              <input
                type="text"
                id="searchInput"
                placeholder="Search cryptocurrencies..."
              />
            </div>
          </div>

          <table class="crypto-table">
            <thead>
              <tr>
                <th>Cryptocurrency</th>
                <th>Current Price</th>
                <th>Predicted Price</th>
                <th>Trend</th>
              </tr>
            </thead>
            <tbody id="cryptoTableBody">
              {% for coin in prices %}
              <tr data-coin="{{ coin }}">
                <td>
                  <div class="crypto-name">
                    <div class="crypto-icon">{{ coin[0] }}</div>
                    <div class="crypto-info">
                      <span class="crypto-symbol">{{ coin }}</span>
                      <span class="crypto-fullname">{{ coin }} Token</span>
                    </div>
                  </div>
                </td>
                <td>
                  <div class="price">${{ "%.2f"|format(prices[coin]) }}</div>
                </td>
                <td>
                  <div class="prediction">
                    {% if predictions[coin] %}
                    <span class="prediction-value"
                      >${{ "%.2f"|format(predictions[coin]) }}</span
                    >
                    {% else %}
                    <span style="color: var(--text-secondary)"
                      >Calculating...</span
                    >
                    {% endif %}
                  </div>
                </td>
                <td>
                  {% if predictions[coin] and predictions[coin] > prices[coin]
                  %}
                  <span class="prediction-badge bullish">üìà Bullish</span>
                  {% elif predictions[coin] and predictions[coin] < prices[coin]
                  %}
                  <span class="prediction-badge bearish">üìâ Bearish</span>
                  {% else %}
                  <span
                    class="prediction-badge"
                    style="
                      background: rgba(148, 163, 184, 0.2);
                      color: var(--text-secondary);
                    "
                    >‚è≥ Pending</span
                  >
                  {% endif %}
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>

        <!-- Chart and Activity Feed -->
        <div>
          <div
            class="chart-container"
            data-aos="fade-left"
            data-aos-delay="100"
          >
            <h3 class="chart-title">Price Trend Analysis</h3>
            <canvas id="trendChart"></canvas>
          </div>

          <div
            class="activity-feed"
            data-aos="fade-left"
            data-aos-delay="200"
            style="margin-top: 30px"
          >
            <h3 class="chart-title">Recent Activity</h3>
            <div class="activity-item">
              <div
                class="activity-icon"
                style="
                  background: rgba(34, 197, 94, 0.2);
                  color: var(--success);
                "
              >
                üìà
              </div>
              <div class="activity-content">
                <div class="activity-title">Price Alert Triggered</div>
                <div class="activity-time">2 minutes ago</div>
              </div>
            </div>
            <div class="activity-item">
              <div
                class="activity-icon"
                style="
                  background: rgba(99, 102, 241, 0.2);
                  color: var(--primary);
                "
              >
                üîÑ
              </div>
              <div class="activity-content">
                <div class="activity-title">Data Refresh Complete</div>
                <div class="activity-time">5 minutes ago</div>
              </div>
            </div>
            <div class="activity-item">
              <div
                class="activity-icon"
                style="
                  background: rgba(245, 158, 11, 0.2);
                  color: var(--warning);
                "
              >
                ‚ö°
              </div>
              <div class="activity-content">
                <div class="activity-title">New Prediction Generated</div>
                <div class="activity-time">12 minutes ago</div>
              </div>
            </div>
            <div class="activity-item">
              <div
                class="activity-icon"
                style="background: rgba(168, 85, 247, 0.2); color: #a855f7"
              >
                üéØ
              </div>
              <div class="activity-content">
                <div class="activity-title">Target Price Reached</div>
                <div class="activity-time">1 hour ago</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Initialize AOS animations
      AOS.init({
        duration: 800,
        easing: "ease-in-out",
        once: true,
      });

      // Create animated particles
      function createParticles() {
        const particlesContainer = document.getElementById("particles");
        const particleCount = 20;

        for (let i = 0; i < particleCount; i++) {
          const particle = document.createElement("div");
          particle.className = "particle";
          particle.style.width = Math.random() * 100 + 50 + "px";
          particle.style.height = particle.style.width;
          particle.style.left = Math.random() * 100 + "%";
          particle.style.top = Math.random() * 100 + "%";
          particle.style.animationDelay = Math.random() * 20 + "s";
          particle.style.animationDuration = Math.random() * 20 + 15 + "s";
          particlesContainer.appendChild(particle);
        }
      }

      createParticles();

      // Search functionality
      document
        .getElementById("searchInput")
        .addEventListener("input", function (e) {
          const searchTerm = e.target.value.toLowerCase();
          const rows = document.querySelectorAll("#cryptoTableBody tr");

          rows.forEach((row) => {
            const coin = row.dataset.coin.toLowerCase();
            if (coin.includes(searchTerm)) {
              row.style.display = "";
            } else {
              row.style.display = "none";
            }
          });
        });

      // Create chart
      const ctx = document.getElementById("trendChart").getContext("2d");

      // Extract data from table for chart
      const rows = document.querySelectorAll("#cryptoTableBody tr");
      const labels = [];
      const currentPrices = [];
      const predictedPrices = [];

      rows.forEach((row) => {
        const coin = row.dataset.coin;
        const currentPrice = parseFloat(
          row.querySelector(".price").textContent.replace("$", ""),
        );
        const predictionElement = row.querySelector(".prediction-value");
        const predictedPrice = predictionElement
          ? parseFloat(predictionElement.textContent.replace("$", ""))
          : currentPrice;

        labels.push(coin);
        currentPrices.push(currentPrice);
        predictedPrices.push(predictedPrice);
      });

      const chart = new Chart(ctx, {
        type: "bar",
        data: {
          labels: labels,
          datasets: [
            {
              label: "Current Price",
              data: currentPrices,
              backgroundColor: "rgba(99, 102, 241, 0.8)",
              borderColor: "rgba(99, 102, 241, 1)",
              borderWidth: 2,
              borderRadius: 8,
              borderSkipped: false,
            },
            {
              label: "Predicted Price",
              data: predictedPrices,
              backgroundColor: "rgba(34, 197, 94, 0.8)",
              borderColor: "rgba(34, 197, 94, 1)",
              borderWidth: 2,
              borderRadius: 8,
              borderSkipped: false,
            },
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: true,
          interaction: {
            mode: "index",
            intersect: false,
          },
          plugins: {
            legend: {
              display: true,
              position: "top",
              labels: {
                color: "#f1f5f9",
                font: {
                  family: "Inter",
                  size: 12,
                  weight: 600,
                },
                padding: 15,
                usePointStyle: true,
                pointStyle: "circle",
              },
            },
            tooltip: {
              backgroundColor: "rgba(15, 23, 42, 0.95)",
              titleColor: "#f1f5f9",
              bodyColor: "#94a3b8",
              borderColor: "rgba(99, 102, 241, 0.5)",
              borderWidth: 1,
              padding: 12,
              displayColors: true,
              callbacks: {
                label: function (context) {
                  return (
                    context.dataset.label + ": $" + context.parsed.y.toFixed(2)
                  );
                },
              },
            },
          },
          scales: {
            y: {
              beginAtZero: true,
              grid: {
                color: "rgba(51, 65, 85, 0.3)",
                drawBorder: false,
              },
              ticks: {
                color: "#94a3b8",
                font: {
                  family: "Inter",
                  size: 11,
                },
                callback: function (value) {
                  return "$" + value.toFixed(0);
                },
              },
            },
            x: {
              grid: {
                display: false,
                drawBorder: false,
              },
              ticks: {
                color: "#94a3b8",
                font: {
                  family: "Inter",
                  size: 11,
                  weight: 600,
                },
              },
            },
          },
        },
      });

      // Auto-update timestamp
      function updateTimestamp() {
        const now = new Date();
        const timeString = now.toLocaleString("en-US", {
          month: "short",
          day: "numeric",
          year: "numeric",
          hour: "2-digit",
          minute: "2-digit",
          second: "2-digit",
        });
        document.getElementById("timestamp").textContent = timeString;
      }

      updateTimestamp();
      setInterval(updateTimestamp, 1000);

      // Add hover effects to table rows
      document.querySelectorAll("#cryptoTableBody tr").forEach((row) => {
        row.addEventListener("click", function () {
          const coin = this.dataset.coin;
          alert(`Detailed analytics for ${coin} coming soon!`);
        });
      });
    </script>
  </body>
</html>
